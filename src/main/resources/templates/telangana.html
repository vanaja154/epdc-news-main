<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EPDC</title>
    <link
      rel="icon"
      type="image/png"
      href="images/globe-removebg-preview.png"
    />

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-H8R8GZQGKK"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-H8R8GZQGKK");
    </script>
    <script
      src="https://kit.fontawesome.com/109a493327.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="scrolling.css" />
    <link rel="stylesheet" href="footer.css" />
    <!-- <link rel="stylesheet" href="darkmode.css" /> -->
    <link rel="stylesheet" href="phone.css" />
    <style>
      /* .matter {
        margin-left: 0px;
        position: absolute;
        top: 35%;
        color: black;
        /* right: 5%; 
      } */
      .hidden {
        display: none;
      }

      #moreButton {
        background-color: #9acd32;
        color: white;
        border: none;
        padding: 10px 20px;
        font-size: 16px;
        font-weight: bold;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease;
        margin-top: 20px;
        display: block;
        width: 100%;
        text-align: center;
      }

      #moreButton:hover {
        background-color: #7cb342;
        transform: translateY(-2px);
      }

      #moreButton:active {
        background-color: #689f38;
        transform: translateY(0);
      }

      #moreButton:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(154, 205, 50, 0.5);
      }
    </style>
  </head>
  <body>
    <div th:replace="~{header :: header}"></div>

    <div class="main-container">
      <div th:each="section : ${newsList}" class="container2">
        <!-- Left Section -->
        <div class="left-section">
          <div class="section">
            <h2 th:text="${category} + ' News'"></h2>

            <!-- Sidebar 1 to 5 (Visible by default) -->
            <div class="news-item">
              <a
                th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='sidebar1')}"
              >
                <img
                  th:src="${section.sidebar1Image}"
                  alt="AP Breaking News – Latest Updates on Andhra Pradesh Events | EPCD News,Sidebar 1 Image"
                />
                <div class="matter">
                  <h3
                    th:text="${section.sidebar1Title?.length() > 25 ? #strings.substring(section.sidebar1Title, 0, 25) + '...' : section.sidebar1Title}"
                  ></h3>
                  <p
                    th:text="${section.sidebar1Text?.length() > 90 ? #strings.substring(section.sidebar1Text, 0, 90) + '...' : section.sidebar1Text}"
                  ></p>
                </div>
              </a>
            </div>

            <div class="news-item">
              <a
                th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='sidebar2')}"
              >
                <img
                  th:src="${section.sidebar2Image}"
                  alt="AP Breaking News – Latest Stories and Updates from Andhra Pradesh,Sidebar 2 Image"
                />
                <div class="matter">
                  <h3
                    th:text="${section.sidebar2Title?.length() > 25 ? #strings.substring(section.sidebar2Title, 0, 25) + '...' : section.sidebar2Title}"
                  ></h3>
                  <p
                    th:text="${section.sidebar2Text?.length() > 90 ? #strings.substring(section.sidebar2Text, 0, 90) + '...' : section.sidebar2Text}"
                  ></p>
                </div>
              </a>
            </div>

            <div class="news-item">
              <a
                th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='sidebar3')}"
              >
                <img
                  th:src="${section.sidebar3Image}"
                  alt="Andhra Pradesh Breaking News – Latest Updates from AP | EPCD News,Sidebar 3 Image"
                />
                <div class="matter">
                  <h3
                    th:text="${section.sidebar3Title?.length() > 25 ? #strings.substring(section.sidebar3Title, 0, 25) + '...' : section.sidebar3Title}"
                  ></h3>
                  <p
                    th:text="${section.sidebar3Text?.length() > 90 ? #strings.substring(section.sidebar3Text, 0, 90) + '...' : section.sidebar3Text}"
                  ></p>
                </div>
              </a>
            </div>

            <div class="news-item">
              <a
                th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='sidebar4')}"
              >
                <img
                  th:src="${section.sidebar4Image}"
                  alt="AP Breaking News – Top Headlines and Real-Time Updates | EPCD News,Sidebar 4 Image"
                />
                <div class="matter">
                  <h3
                    th:text="${section.sidebar4Title?.length() > 25 ? #strings.substring(section.sidebar4Title, 0, 25) + '...' : section.sidebar4Title}"
                  ></h3>
                  <p
                    th:text="${section.sidebar4Text?.length() > 90 ? #strings.substring(section.sidebar4Text, 0, 90) + '...' : section.sidebar4Text}"
                  ></p>
                </div>
              </a>
            </div>

            <div class="news-item">
              <a
                th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='sidebar5')}"
              >
                <img
                  th:src="${section.sidebar5Image}"
                  alt="Breaking News in Andhra Pradesh – AP News Coverage on EPCD News,Sidebar 5 Image"
                />
                <div class="matter">
                  <h3
                    th:text="${section.sidebar5Title?.length() > 25 ? #strings.substring(section.sidebar5Title, 0, 25) + '...' : section.sidebar5Title}"
                  ></h3>
                  <p
                    th:text="${section.sidebar5Text?.length() > 90 ? #strings.substring(section.sidebar5Text, 0, 90) + '...' : section.sidebar5Text}"
                  ></p>
                </div>
              </a>
            </div>

            <!-- Sidebar 6 to 20 (Hidden by default) -->
            <div
              class="news-item hidden"
              th:each="i : ${#numbers.sequence(6, 20)}"
            >
              <a
                th:href="@{/detail/{id}(id=${section.id}, category=${category}, section=${'sidebar' + i})}"
              >
                <img
                  th:src="${section['sidebar' + i + 'Image']}"
                  th:alt="${'Sidebar ' + i + ' Image'}"
                />
                <div class="matter">
                  <h3
                    th:text="${section['sidebar' + i + 'Title']?.length() > 25 ? #strings.substring(section['sidebar' + i + 'Title'], 0, 25) + '...' : section['sidebar' + i + 'Title']}"
                  ></h3>
                  <p
                    th:text="${section['sidebar' + i + 'Text']?.length() > 90 ? #strings.substring(section['sidebar' + i + 'Text'], 0, 90) + '...' : section['sidebar' + i + 'Text']}"
                  ></p>
                </div>
              </a>
            </div>

            <!-- "More" Button -->
            <button id="moreButton" onclick="showMore()">More</button>
          </div>
        </div>

        <!-- Right Section -->
        <div class="rightadd" style="position: relative">
          <div class="right-section" id="addsection">
            <!-- <div style="position: absolute;top: 8px;left: 10px;">
            <p>Ad</p>
          </div> -->
            <div class="section ad-section" style="position: relative">
              <div>
                <p style="position: absolute; top: 8px; left: 10px">Ad</p>
              </div>
              <!-- First Right Image -->
              <a
                th:href="${section.rightImage1Link}"
                target="_blank"
                class="sidebar-link"
              >
                <img
                  th:src="${section.rightImage1}"
                  alt="AP Breaking News – Exclusive Coverage of Andhra Pradesh Events,Right Image 1"
                />
              </a>
            </div>
          </div>
          <div class="right-section" id="addsection">
            <div class="section ad-section" style="position: relative">
              <div>
                <p style="position: absolute; top: 8px; left: 10px">Ad</p>
              </div>
              <!-- Second Right Image -->
              <a th:href="${section.rightImage2Link}" class="sidebar-link">
                <img th:src="${section.rightImage2}" alt="Right Image 2" />
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="featured-news">
        <h2 th:text="'Trending News Of ' + ${category}"></h2>

        <div
          th:each="section : ${newsList}"
          class="news-container"
          id="newsContainer"
        >
          <!-- Item 1 -->
          <div class="news-card">
            <a
              th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='item1')}"
            >
              <img th:src="${section.image1}" alt="News Image" />
              <div class="info">
                <div class="tag-date">
                  <span
                    class="tag"
                    th:text="${section.title1?.length() > 10 ? #strings.substring(section.title1, 0, 10) + '...' : section.title1}"
                  ></span>
                </div>
                <h3
                  th:text="${section.text1?.length() > 30 ? #strings.substring(section.text1, 0, 30) + '...' : section.text1}"
                ></h3>
              </div>
            </a>
          </div>

          <!-- Item 2 -->
          <div class="news-card">
            <a
              th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='item2')}"
            >
              <img th:src="${section.image2}" alt="News Image" />
              <div class="info">
                <div class="tag-date">
                  <span
                    class="tag"
                    th:text="${section.title2?.length() > 10 ? #strings.substring(section.title2, 0, 10) + '...' : section.title2}"
                  ></span>
                </div>
                <h3
                  th:text="${section.text2?.length() > 30 ? #strings.substring(section.text2, 0, 30) + '...' : section.text2}"
                ></h3>
              </div>
            </a>
          </div>

          <!-- Item 3 -->
          <div class="news-card">
            <a
              th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='item3')}"
            >
              <img th:src="${section.image3}" alt="News Image" />
              <div class="info">
                <div class="tag-date">
                  <span
                    class="tag"
                    th:text="${section.title3?.length() > 10 ? #strings.substring(section.title3, 0, 10) + '...' : section.title3}"
                  ></span>
                </div>
                <h3
                  th:text="${section.text3?.length() > 30 ? #strings.substring(section.text3, 0, 30) + '...' : section.text3}"
                ></h3>
              </div>
            </a>
          </div>

          <!-- Item 4 -->
          <div class="news-card">
            <a
              th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='item4')}"
            >
              <img th:src="${section.image4}" alt="News Image" />
              <div class="info">
                <div class="tag-date">
                  <span
                    class="tag"
                    th:text="${section.title4?.length() > 10 ? #strings.substring(section.title4, 0, 10) + '...' : section.title4}"
                  ></span>
                </div>
                <h3
                  th:text="${section.text4?.length() > 30 ? #strings.substring(section.text4, 0, 30) + '...' : section.text4}"
                ></h3>
              </div>
            </a>
          </div>

          <!-- Item 5 -->
          <div class="news-card">
            <a
              th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='item5')}"
            >
              <img th:src="${section.image5}" alt="News Image" />
              <div class="info">
                <div class="tag-date">
                  <span
                    class="tag"
                    th:text="${section.title5?.length() > 10 ? #strings.substring(section.title5, 0, 10) + '...' : section.title5}"
                  ></span>
                </div>
                <h3
                  th:text="${section.text5?.length() > 30 ? #strings.substring(section.text5, 0, 30) + '...' : section.text5}"
                ></h3>
              </div>
            </a>
          </div>

          <!-- Item 6 -->
          <div class="news-card">
            <a
              th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='item6')}"
            >
              <img th:src="${section.image6}" alt="News Image" />
              <div class="info">
                <div class="tag-date">
                  <span
                    class="tag"
                    th:text="${section.title6?.length() > 10 ? #strings.substring(section.title6, 0, 10) + '...' : section.title6}"
                  ></span>
                </div>
                <h3
                  th:text="${section.text6?.length() > 30 ? #strings.substring(section.text6, 0, 30) + '...' : section.text6}"
                ></h3>
              </div>
            </a>
          </div>

          <!-- Item 7 -->
          <div class="news-card">
            <a
              th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='item7')}"
            >
              <img th:src="${section.image7}" alt="News Image" />
              <div class="info">
                <div class="tag-date">
                  <span
                    class="tag"
                    th:text="${section.title7?.length() > 10 ? #strings.substring(section.title7, 0, 10) + '...' : section.title7}"
                  ></span>
                </div>
                <h3
                  th:text="${section.text7?.length() > 30 ? #strings.substring(section.text7, 0, 30) + '...' : section.text7}"
                ></h3>
              </div>
            </a>
          </div>

          <!-- Item 8 -->
          <div class="news-card">
            <a
              th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='item8')}"
            >
              <img th:src="${section.image8}" alt="News Image" />
              <div class="info">
                <div class="tag-date">
                  <span
                    class="tag"
                    th:text="${section.title8?.length() > 10 ? #strings.substring(section.title8, 0, 10) + '...' : section.title8}"
                  ></span>
                </div>
                <h3
                  th:text="${section.text8?.length() > 30 ? #strings.substring(section.text8, 0, 30) + '...' : section.text8}"
                ></h3>
              </div>
            </a>
          </div>

          <!-- Item 9 -->
          <div class="news-card">
            <a
              th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='item9')}"
            >
              <img th:src="${section.image9}" alt="News Image" />
              <div class="info">
                <div class="tag-date">
                  <span
                    class="tag"
                    th:text="${section.title9?.length() > 10 ? #strings.substring(section.title9, 0, 10) + '...' : section.title9}"
                  ></span>
                </div>
                <h3
                  th:text="${section.text9?.length() > 30 ? #strings.substring(section.text9, 0, 30) + '...' : section.text9}"
                ></h3>
              </div>
            </a>
          </div>

          <!-- Item 10 -->
          <div class="news-card">
            <a
              th:href="@{/detail/{id}(id=${section.id}, category=${category}, section='item10')}"
            >
              <img th:src="${section.image10}" alt="News Image" />
              <div class="info">
                <div class="tag-date">
                  <span
                    class="tag"
                    th:text="${section.title10?.length() > 10 ? #strings.substring(section.title10, 0, 10) + '...' : section.title10}"
                  ></span>
                </div>
                <h3
                  th:text="${section.text10?.length() > 30 ? #strings.substring(section.text10, 0, 30) + '...' : section.text10}"
                ></h3>
              </div>
            </a>
          </div>
        </div>
      </div>

      <div th:replace="~{footer :: footer}"></div>
    </div>
    <script src="darkmode.js"></script>

    <script>
      // JavaScript to show hidden sidebar items
      function showMore() {
        const hiddenItems = document.querySelectorAll(".news-item.hidden");
        hiddenItems.forEach((item) => item.classList.remove("hidden"));

        // Hide the "More" button after showing all items
        const moreButton = document.getElementById("moreButton");
        moreButton.style.display = "none";
      }
    </script>
  </body>
</html>
